<nav class="navbar navbar-floating" aria-label="Barra de navegação principal">
  <div class="container-fluid d-flex align-items-center justify-content-between gap-3">
    <a class="navbar-brand" href="{{ url_for('main.index') }}">Arkiv</a>
    {% if not login_page %}
    <form class="flex-grow-1 mx-3" role="search" hx-get="/search" hx-trigger="keyup changed delay:300ms" hx-target="#content" hx-push-url="true">
      <input class="form-control" type="search" placeholder="Buscar" name="q" aria-label="Buscar">
    </form>
    {% endif %}
  <div class="d-flex align-items-center gap-2">
    <button class="btn btn-link theme-toggle p-0" onclick="toggleTheme()" aria-label="Alternar tema" aria-pressed="false"><i class="bi bi-moon-fill"></i></button>
    {% if current_user.is_authenticated %}
    <div class="avatar-frame" data-bs-toggle="modal" data-bs-target="#userModal">
      <img src="{{ url_for('static', filename='img/avatar.svg') }}" alt="{{ current_user.name }}" loading="lazy">
    </div>
    {% endif %}
  </div>
  </div>
</nav>

<div class="modal fade user-modal" id="userModal" tabindex="-1" aria-labelledby="userModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-md">
      <div class="modal-body d-flex flex-column gap-3 align-items-stretch" id="userModalLabel">
        <a href="#" class="btn btn-accent">Configurações do Perfil</a>
        <a href="{{ url_for('auth.logout') }}" class="btn btn-outline-danger btn-logout">Logout</a>
      </div>
    </div>
  </div>
</div>
