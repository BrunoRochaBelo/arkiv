<header class="navbar-floating" aria-label="Barra de navegação principal">
  <span class="navbar-brand"><a href="{{ url_for('main.index') }}">Arkiv</a></span>
  {% if not login_page %}
  <div class="global-search">
    <form role="search" hx-get="/search" hx-trigger="keyup changed delay:300ms" hx-target="#content" hx-push-url="true">
      <input id="globalSearchInput" type="search" placeholder="Buscar..." name="q" aria-label="Buscar">
    </form>
  </div>
  {% endif %}
  <div class="navbar-actions">
    <button class="btn btn-link theme-toggle p-0" onclick="toggleTheme()" aria-label="Alternar tema" aria-pressed="false"><i class="bi bi-moon-fill"></i></button>
    {% if current_user.is_authenticated %}
    <div class="avatar-frame" data-bs-toggle="modal" data-bs-target="#userModal">
      <img src="{{ url_for('static', filename='img/avatar.svg') }}" alt="{{ current_user.name }}" loading="lazy">
    </div>
    {% endif %}
  </div>
</header>

<div class="modal fade user-modal" id="userModal" tabindex="-1" aria-labelledby="userModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body" id="userModalLabel">
        <a href="#" class="btn btn-accent">Configurações do Perfil</a>
        <a href="{{ url_for('auth.logout') }}" class="btn btn-outline-danger btn-logout">Logout</a>
      </div>
    </div>
  </div>
</div>
